<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Production Chains - Game Design for Emergence</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../steam-page.html"><strong aria-hidden="true">1.</strong> Draft Steam Page</a></li><li class="chapter-item expanded "><a href="../glossary.html"><strong aria-hidden="true">2.</strong> Glossary</a></li><li class="chapter-item expanded "><a href="../risk-assessment.html"><strong aria-hidden="true">3.</strong> Risk Assessment</a></li><li class="chapter-item expanded "><a href="../high-level/index.html"><strong aria-hidden="true">4.</strong> High Level Analysis</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../high-level/game-thesis.html"><strong aria-hidden="true">4.1.</strong> Game Thesis</a></li><li class="chapter-item expanded "><a href="../high-level/genre-analysis.html"><strong aria-hidden="true">4.2.</strong> Genre Analysis</a></li><li class="chapter-item expanded "><a href="../high-level/genre-mechanics.html"><strong aria-hidden="true">4.3.</strong> Genre Mechanics</a></li><li class="chapter-item expanded "><a href="../high-level/mechanical-translation.html"><strong aria-hidden="true">4.4.</strong> Mapping genre mechanics to Emergence</a></li><li class="chapter-item expanded "><a href="../high-level/creative-automation.html"><strong aria-hidden="true">4.5.</strong> Creative Automation</a></li><li class="chapter-item expanded "><a href="../high-level/creative-automation-case-studies.html"><strong aria-hidden="true">4.6.</strong> Creative Automation: Case Studies</a></li></ol></li><li class="chapter-item expanded "><a href="../player-actions/index.html"><strong aria-hidden="true">5.</strong> Player Actions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../player-actions/selection-tools.html"><strong aria-hidden="true">5.1.</strong> Selection Tools</a></li><li class="chapter-item expanded "><a href="../player-actions/zoning.html"><strong aria-hidden="true">5.2.</strong> Zoning</a></li><li class="chapter-item expanded "><a href="../player-actions/terraforming.html"><strong aria-hidden="true">5.3.</strong> Terraforming</a></li><li class="chapter-item expanded "><a href="../player-actions/informational-tools.html"><strong aria-hidden="true">5.4.</strong> Informational Tools</a></li></ol></li><li class="chapter-item expanded "><a href="../research/index.html"><strong aria-hidden="true">6.</strong> Research</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../research/domestication.html"><strong aria-hidden="true">6.1.</strong> Domestication</a></li><li class="chapter-item expanded "><a href="../research/guided-evolution.html"><strong aria-hidden="true">6.2.</strong> Genetics</a></li><li class="chapter-item expanded "><a href="../research/technology.html"><strong aria-hidden="true">6.3.</strong> Technology</a></li></ol></li><li class="chapter-item expanded "><a href="../production-chains/index.html" class="active"><strong aria-hidden="true">7.</strong> Production Chains</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../production-chains/recipes.html"><strong aria-hidden="true">7.1.</strong> Recipes</a></li><li class="chapter-item expanded "><a href="../production-chains/raw-resources.html"><strong aria-hidden="true">7.2.</strong> Raw Resources</a></li><li class="chapter-item expanded "><a href="../production-chains/intermediates.html"><strong aria-hidden="true">7.3.</strong> Intermediates</a></li><li class="chapter-item expanded "><a href="../production-chains/end-products.html"><strong aria-hidden="true">7.4.</strong> End Products</a></li><li class="chapter-item expanded "><a href="../production-chains/example-leafcutter.html"><strong aria-hidden="true">7.5.</strong> Example Production Chain: Leafcutter Ant Cultivation</a></li></ol></li><li class="chapter-item expanded "><a href="../organisms/index.html"><strong aria-hidden="true">8.</strong> Organisms</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../organisms/life-cycles.html"><strong aria-hidden="true">8.1.</strong> Life Cycles</a></li><li class="chapter-item expanded "><a href="../organisms/sessile-organisms.html"><strong aria-hidden="true">8.2.</strong> Sessile Organisms</a></li><li class="chapter-item expanded "><a href="../organisms/units.html"><strong aria-hidden="true">8.3.</strong> Units</a></li></ol></li><li class="chapter-item expanded "><a href="../water.html"><strong aria-hidden="true">9.</strong> Water</a></li><li class="chapter-item expanded "><a href="../logistics/index.html"><strong aria-hidden="true">10.</strong> Logistics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../logistics/signals/index.html"><strong aria-hidden="true">10.1.</strong> Signals</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../logistics/signals/configuring-properties.html"><strong aria-hidden="true">10.1.1.</strong> Configuring Signal Properties</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Game Design for Emergence</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="production-chains"><a class="header" href="#production-chains">Production chains</a></h1>
<p>In a <a href="../high-level/genre-mechanics.html">factory builder</a>, resources are extracted, transformed and used to build more things.
They are extracted as <a href="raw-resources.html">raw resources</a>, are transformed into <a href="intermediates.html">intermediates</a>, and ultimately turned into useful <a href="end-products.html">end products</a>.</p>
<p>The paths that these <strong>items</strong> can travel on is dictated by the <a href="recipes.html">recipes</a> available to the player.</p>
<h2 id="analyzing-production-chains"><a class="header" href="#analyzing-production-chains">Analyzing production chains</a></h2>
<p>When designing production chains for a factory builder (or frankly, any game with crafting),
the most essential thing to consider is the <strong>recipe graph.</strong></p>
<p>You can construct the recipe graph by placing the items in the game as nodes of the graph, and then drawing an edge from each of the inputs in a recipe to its outputs.
We can also <strong>color</strong> this recipe graph into three parts that roughly correspond to raw resources, intermediates and end products.
Raw resources have no parents, end products have no children*, and intermediates have both.</p>
<p>As an aside, these are actually directed hypergraphs.
Hypergraphs may sound scary, but they're pretty simple: they're simply graphs that connect <strong>nodes</strong> to each other via <strong>edges</strong>, but the edges map between groups of nodes rather than individual nodes.
&quot;Directed&quot; simply means that the edges have a direction to them: you can't turn electricity back into coal!</p>
<p>Unsurprisingly, this gets quite intimidating for most games!
Instead, it's more useful to:</p>
<ol>
<li>Consider smaller parts of the graph at a time.</li>
<li>Reason abstractly about the properties of these graphs, and their effect on gameplay.</li>
</ol>
<p>Let's go through some of the relevant properties of production graphs!</p>
<h3 id="number-of-nodes-vertex-count"><a class="header" href="#number-of-nodes-vertex-count">Number of nodes (vertex count)</a></h3>
<p>This is a simple measure of the complexity of the game's crafting system.
If there are more items to find and make, there's more game to both learn and play.</p>
<p>Increasing this value increases playtime and diversity at the cost of complexity and development costs.</p>
<h3 id="number-of-connected-components"><a class="header" href="#number-of-connected-components">Number of <a href="https://en.wikipedia.org/wiki/Component_(graph_theory)">connected components</a></a></h3>
<p>Imagine the recipes as physically connecting various parts of your graph, and then try to pull it apart.
How many parts can you split it into without breaking any of the edges?</p>
<p>The number of connected components is <em>very</em> high relative to the number of nodes in most farming games, survival crafters and other simple crafting systems.
This means that you don't need to reason too hard about what else you could use your resources for,
but limits the <a href="../glossary.html#cohesion">cohesion</a> of the game's various systems and resource trees.</p>
<h3 id="distance-between-nodes"><a class="header" href="#distance-between-nodes">Distance between nodes</a></h3>
<p>This describes how many steps it takes to get from a desired set of raw resources to an end product.
When considered globally, this is the <strong>graph diameter.</strong></p>
<p>This is often very low in simple crafting games, capping out at one or two.
Colony sims generally have chains of length one to three,
and even most factory builders end up with a chain length of one to four.</p>
<p>Increasing this has a massive complexity cost, but adds a lot of <a href="../glossary.html#depth-and-complexity">depth</a>.
Increasing this well (from a game-design perspective) requires some combination of:</p>
<ul>
<li>simpler, less effective early recipes to slowly teach the player
<ul>
<li>this is the strategy taken by the AngelBob's mod pack for Factorio: iron plates can be produced in many different ways, and only slowly becomes more complex</li>
</ul>
</li>
<li>good uses for intermediate steps in the chain, either as end products, or via heavy branching
<ul>
<li>this is also used in AngelBob's: sulfur is complex to make but exceedingly useful</li>
</ul>
</li>
<li>exceptionally good tooling that displays the entire production tree needed for each recipe</li>
<li>exceptional patient and/or masochistic players
<ul>
<li>this is the strategy taken by <a href="https://www.reddit.com/r/factorio/comments/yd1i7l/finally_after_20_hours_of_work_i_present_the/">Pyanodon's mod pack for Factorio</a></li>
</ul>
</li>
</ul>
<h3 id="number-of-incoming-edges"><a class="header" href="#number-of-incoming-edges">Number of incoming edges</a></h3>
<p>How many different ways can I make this item?
In simple crafting games, this is almost always one, or a class of equivalent goods (different types of metal are common) can be substituted.</p>
<p>Even in factory builders, this can often be quite small: one is common for base gameplay, and even modded rarely has more than three or four options.</p>
<p>When this is 1 everywhere, the recipe graph is a tree.</p>
<h3 id="number-of-outgoing-edges"><a class="header" href="#number-of-outgoing-edges">Number of outgoing edges</a></h3>
<p>What can I do with this item?
The higher this is, the more options there are for your ingredient.</p>
<p>Items that only have one outgoing edge should always be transformed into their output when possible: there's no alternative use for them.</p>
<h3 id="cycles"><a class="header" href="#cycles"><a href="https://en.wikipedia.org/wiki/Cycle_(graph_theory)">Cycles</a></a></h3>
<p>Does the recipe graph loop back onto itself?
This might represent either a reversible transformation (like water into steam), or a more complex cycling production chain.</p>
<p>Cycles are both interesting and risky: if after one complete cycle you have more of any resource it can be used to amplify that resource.
Note that this is not necessarily a problem!
Recipes take time to craft, and other resources (including power) or time may be depeleted.</p>
<p>But if amplifying cycles are poorly designed, they can become imbalanced, and distort the rest of the economy of the game.</p>
<h3 id="ratio-of-raw-resources-to-intermediates-to-end-products"><a class="header" href="#ratio-of-raw-resources-to-intermediates-to-end-products">Ratio of raw resources to intermediates to end products</a></h3>
<p>In simple crafting games, raw resources and end products are abundant, and intermediates are rare.
But in logistics-heavy factory builders (like modded Factorio), intermediates dominate, as they present interesting puzzles.</p>
<p>The absolute number of raw resources cannot become too high in most cases, otherwise it becomes difficult to find the appropriate resources (although a high number of input nodes helps this problem dramatically).</p>
<p>Similarly, increasing the number of end products is quite hard! End products have the highest <a href="../glossary.html#depth-and-complexity">complexity budget</a></p>
<h3 id="graph-constrictions"><a class="header" href="#graph-constrictions">Graph constrictions</a></h3>
<p>In more heavily connected recipe graphs, areas where the graph narrows become particularly important.
All possible paths between the two regions must travel through the connected area.</p>
<p>This can be helpful to manage complexity, but can lead to predictable gameplay and increases the importance of narrow graph regions.</p>
<p>Constrictions can be quantified by examining the <a href="https://en.wikipedia.org/wiki/K-vertex-connected_graph">vertex connectivity</a> and <a href="https://en.wikipedia.org/wiki/K-edge-connected_graph">edge connectivity</a> of <a href="https://en.wikipedia.org/wiki/Neighbourhood_(graph_theory)">neighborhoods</a>.</p>
<h2 id="production-chains-in-emergence"><a class="header" href="#production-chains-in-emergence">Production chains in <em>Emergence</em></a></h2>
<p>In <em>Emergence</em>, we're looking for production chains that are:</p>
<ul>
<li>interesting</li>
<li>robust</li>
<li>moderately complex</li>
</ul>
<p>We have a lot of complexity elsewhere, as players must respond to changing conditions.
As a result, simply adding more and more items, and increasing the depth of the production chains is unlikely to be the right choice.</p>
<p>Instead, we want the following key properties:</p>
<ul>
<li>many cycles: everything should be able to be broken back down, either physically or via decomposition</li>
<li>heavy substitutability: powered by graph constrictions to key intermediates
<ul>
<li>raw resources can ultimately be traded off for each other, because you can make the critical intermediates in many different ways</li>
<li>similarly, not all recipes must be unlocked</li>
<li>example intermediates: fiber, mud, salt</li>
<li>intermediates branch back out to produce end products and advanced intermediates</li>
</ul>
</li>
<li>conservation laws conserve elemental composition: excess elements become waste products
<ul>
<li>nutrient waste fertilizes soil under the building
<ul>
<li>this can be automatically recaptured and distributed via mycorrhizae</li>
</ul>
</li>
<li>water waste drains into the soil under the building</li>
<li>inorganic waste must be removed</li>
</ul>
</li>
<li>add complexity through additional restrictions on items rather than long production chains
<ul>
<li>storage challenges</li>
<li>transport costs and restrictions</li>
<li>spatially constrained production</li>
</ul>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../research/technology.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../production-chains/recipes.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../research/technology.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../production-chains/recipes.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
